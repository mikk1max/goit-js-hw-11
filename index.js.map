{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = import.meta.env.VITE_PIXABAY_API_KEY;\n\nconst options = new URLSearchParams({\n  key: `${apiKey}`,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\nfunction fetchUsers(q) {\n  return fetch(`https://pixabay.com/api/?q=${q}&${options}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport default fetchUsers;\n","const gallery = document.querySelector('.gallery');\n\nconst renderItems = data => {\n  const markup = data.hits\n    .map(\n      item => `<li class=\"gallery-list-item\">\n      <a href=\"${item.largeImageURL}\"><img src=\"${item.webformatURL}\" alt=\"${item.tags}\" /></a>\n    <table>\n      <tr>\n        <th>Likes</th>\n        <th>Views</th>\n        <th>Comments</th>\n        <th>Downloads</th>\n      </tr>\n      <tr>\n        <td>${item.likes}</td>\n        <td>${item.views}</td>\n        <td>${item.comments}</td>\n        <td>${item.downloads}</td>\n      </tr>\n    </table>\n  </li>`\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n};\n\nexport default renderItems;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport api from './js/pixabay-api';\nimport renderItems from './js/render-functions';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\n\nlet photos = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst messageStyles = {\n  backgroundColor: '#ef4040',\n  maxWidth: '432px',\n  position: 'topRight',\n  icon: 'fa-regular fa-times-circle',\n  iconColor: '#fafafb',\n  messageColor: '#fafafb',\n  close: false,\n  closeOnClick: true,\n};\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  // gallery.innerHTML = `<li class=\"loadText\"><p>Loading images, please wait...</p></li>`;\n  gallery.innerHTML = `<li class=\"loadText\"><span class=\"loader\"></span></li>`;\n\n  const inputValue = e.target.elements.search.value.trim();\n  inputValue.split(' ').join('+');\n\n  // TODO: find a way to make it better\n  setTimeout(() => {\n    api(inputValue)\n      .then(data => {\n        renderItems(data);\n        photos.refresh();\n\n        if (data.total === 0) {\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            ...messageStyles,\n          });\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, 2000);\n\n  photos.on('show.simplelightbox', () => {\n    console.log('SimpleLightbox opened');\n  });\n});\n"],"names":["apiKey","options","fetchUsers","q","response","gallery","renderItems","data","markup","item","form","photos","SimpleLightbox","messageStyles","e","inputValue","api","iziToast","error"],"mappings":"6vBAAA,MAAMA,EAAS,qCAETC,EAAU,IAAI,gBAAgB,CAClC,IAAK,GAAGD,CAAM,GACd,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAED,SAASE,EAAWC,EAAG,CACd,OAAA,MAAM,8BAA8BA,CAAC,IAAIF,CAAO,EAAE,EAAE,KAAiBG,GAAA,CACtE,GAAA,CAACA,EAAS,GACN,MAAA,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MAAK,CACtB,CACH,CChBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAcC,GAAQ,CAC1B,MAAMC,EAASD,EAAK,KACjB,IACCE,GAAQ;AAAA,iBACGA,EAAK,aAAa,eAAeA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cASxEA,EAAK,KAAK;AAAA,cACVA,EAAK,KAAK;AAAA,cACVA,EAAK,QAAQ;AAAA,cACbA,EAAK,SAAS;AAAA;AAAA;AAAA,QAIvB,EACA,KAAK,EAAE,EAEVJ,EAAQ,UAAYG,CACtB,ECjBME,EAAO,SAAS,cAAc,OAAO,EACrCL,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIM,EAAS,IAAIC,EAAe,aAAc,CAC5C,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAED,MAAMC,EAAgB,CACpB,gBAAiB,UACjB,SAAU,QACV,SAAU,WACV,KAAM,6BACN,UAAW,UACX,aAAc,UACd,MAAO,GACP,aAAc,EAChB,EAEAH,EAAK,iBAAiB,SAAUI,GAAK,CACnCA,EAAE,eAAc,EAEhBT,EAAQ,UAAY,yDAEpB,MAAMU,EAAaD,EAAE,OAAO,SAAS,OAAO,MAAM,OAClDC,EAAW,MAAM,GAAG,EAAE,KAAK,GAAG,EAG9B,WAAW,IAAM,CACfC,EAAID,CAAU,EACX,KAAKR,GAAQ,CACZD,EAAYC,CAAI,EAChBI,EAAO,QAAO,EAEVJ,EAAK,QAAU,GACjBU,EAAS,MAAM,CACb,QACE,2EACF,GAAGJ,CACf,CAAW,CAEX,CAAO,EACA,MAAMK,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAO,CACJ,EAAE,GAAI,EAEPP,EAAO,GAAG,sBAAuB,IAAM,CACrC,QAAQ,IAAI,uBAAuB,CACvC,CAAG,CACH,CAAC"}